<button mat-button color="warn" (click)="onClick()">
  <mat-icon>file_upload</mat-icon>
  {{text}}
</button>
<br/>
<ul>
  <li *ngIf="file_to_upload" [@fadeInOut]="file_to_upload.state">
        <mat-progress-bar [value]="file_to_upload.progress"></mat-progress-bar>
        <span id="file-label">
        {{file_to_upload.data.name}} 
        <a title="Retry" (click)="retryFile(file_to_upload)" *ngIf="file_to_upload.canRetry">
        <mat-icon>refresh</mat-icon></a>
        <a title="Cancel" (click)="cancelFile(file_to_upload)" *ngIf="file_to_upload.canCancel">
        <mat-icon>cancel</mat-icon></a>
        </span>
  </li>
</ul>
<input type="file" id="fileUpload" name="fileUpload" accept="{{accept}}" style="display:none;"/>

<mat-card *ngFor="let file of (files$ | async)">
  <mat-card-title>{{file.name}}</mat-card-title>
<mat-card-content>{{file.key}} {{file.size}} kB</mat-card-content>
</mat-card>