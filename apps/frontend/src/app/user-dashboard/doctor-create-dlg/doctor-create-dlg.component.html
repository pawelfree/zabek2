<h2 mat-dialog-title>Dodaj nowego lekarza</h2>

<mat-dialog-content [formGroup]="dialogForm">
  <mat-spinner *ngIf="isLoading"></mat-spinner>
    <mat-card-content>
      <mat-form-field>
        <input matInput type="text" formControlName="email" [value]="dialogForm.get('email').value | lowercase"
          placeholder="Email">
        <mat-error *ngIf="dialogForm.get('email').invalid">Email jest wymagany.</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput type="text" formControlName="firstName" placeholder="Imię">
        <mat-error *ngIf="dialogForm.get('firstName').invalid">Imię jest wymagane.</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput type="text" formControlName="lastName" placeholder="Nazwisko">
        <mat-error *ngIf="dialogForm.get('lastName').invalid">Nazwisko jest wymagane.</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput type="text" formControlName="qualificationsNo"
          placeholder="Numer pozwolenia na wykonywanie zawodu (PWZ)">
        <mat-error *ngIf="dialogForm.get('qualificationsNo').hasError('required')">PWZ jest wymagany.</mat-error>
        <mat-error
          *ngIf="dialogForm.get('qualificationsNo').hasError('minlength') || dialogForm.get('qualificationsNo').hasError('maxlength')">
          PWZ musi mieć 7 cyfr.</mat-error>
        <mat-error *ngIf="dialogForm.get('qualificationsNo').hasError('onlyNumbers')">PWZ może składać się tylko z cyfr.
        </mat-error>
        <mat-error *ngIf="dialogForm.get('qualificationsNo').hasError('validPwz')">PWZ jest niepoprawny.</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput type="text" formControlName="pesel" placeholder="PESEL">
        <mat-error *ngIf="dialogForm.get('pesel').hasError('onlyNumbers')">PESEL może zawierać tylko cyfry.</mat-error>
        <mat-error *ngIf="dialogForm.get('pesel').hasError('validPesel')">PESEL jest nieprawidłowy.</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput type="text" formControlName="nip" placeholder="NIP">
        <mat-error *ngIf="dialogForm.get('nip').hasError('onlyNumbers')">NIP może zawierać tylko cyfry.</mat-error>
        <mat-error *ngIf="dialogForm.get('pesel').hasError('validNIP')">NIP jest nieprawidłowy.</mat-error>
      </mat-form-field>     
      <mat-form-field>
        <input matInput type="text" formControlName="officeName" placeholder="Nazwa gabinetu">
        <mat-error *ngIf="dialogForm.get('officeName').invalid">Nazwa gabinetu jest wymagana.</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput type="text" formControlName="officeAddress" placeholder="Adres gabinetu">
        <mat-error *ngIf="dialogForm.get('officeAddress').invalid">Adres gabinetu jest wymagany.</mat-error>
      </mat-form-field>
      <mat-checkbox formControlName="sameAddresses">Taki sam adres do korespondencji</mat-checkbox>
      
      <mat-form-field *ngIf="!sameAddresses$">
        <input matInput type="text" formControlName="officeCorrespondenceAddress" placeholder="Adres gabinetu">
        <mat-error *ngIf="dialogForm.get('officeCorrespondenceAddress').invalid">Adres gabinetu jest wymagany.</mat-error>
      </mat-form-field>
     
      <mat-form-field>
        <mat-label>Domyślny format badania</mat-label>
        <mat-select formControlName="examFormat">
          <mat-option [value]="'tiff'">tiff</mat-option>
          <mat-option [value]="'jpeg'">jpeg</mat-option>
          <mat-option [value]="'dicom'">dicom</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-checkbox formControlName="tomographyWithViewer">Tomografia razem z czytnikiem</mat-checkbox>
    </mat-card-content>

    <mat-dialog-actions>
      <!-- <button class="mat-raised-button" mat-dialog-close (click)="close()">Anuluj</button> -->
      <button class="mat-raised-button" type="button" class="close" aria-label="Anuluj" (click)="goToparent()">

      </button>
      <button type="button" class="mat-raised-button mat-primary" (click)="save()">Zapisz</button>
    </mat-dialog-actions>
  
</mat-dialog-content>